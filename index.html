<!DOCTYPE html>
<html>
<head>
    <title>WebXR - 3D Model</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script type="module" src="https://threejs.org/build/three.module.js"></script>
    <script type="module" src="https://threejs.org/examples/jsm/controls/OrbitControls.js"></script>
    <script type="module" src="https://rawcdn.githack.com/mrdoob/three.js/r105/examples/js/loaders/GLTFLoader.js"></script>
    <script type="module" src="https://immersive-web.github.io/webxr-polyfill/build/webxr-polyfill.module.js"></script>
</head>
<body>
    <model-viewer style="width:100%; height:100%" src="https://raw.githubusercontent.com/aARdeLife/XRAI/96a933e3898729821ae8e9790a48dfd7c9c33b6d/pol.glb" ar ar-modes="webxr" camera-controls auto-rotate></model-viewer>
    <script type="module">
        const polyfill = new WebXRPolyfill();
        const modelViewer = document.querySelector('model-viewer');
        modelViewer.addEventListener('click', (event) => {
            const rect = modelViewer.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            const scene = modelViewer.getScene();
            const picker = new Three.Picker(scene, rect.width, rect.height);
            const picked = picker.pick(x, y);
        });
    </script>
</body>
</html>
